<table class="table">
   <thead>
      <tr class="text-center">
         <th scope="col">#</th>
         <th scope="col">Nome</th>
         <th scope="col">E-mail</th>
         <th scope="col">Telefone</th>
         <th scope="col">CPF</th>
         <th scope="col"><i class="bi bi-house-door-fill"></i></th>
         <th scope="col"><i class="bi bi-gear-wide-connected"></i></th>
      </tr>
   </thead>
   <tbody>
      <tr class="text-center" *ngFor="let c of clientes; let i = index">
         <th scope="row">{{ i + 1 }}</th>
         <td>{{ c.nome }}</td>
         <td>{{ c.email }}</td>
         <td>{{ c.telefone }}</td>
         <td>{{ c.cpf }}</td>
         <td>
            <button class="btn btn-light btn-sm" (click)="modalEndereco(enderecoCliente, c.id)">
               <i class="bi bi-eye-fill"></i>
            </button>
         </td>
         <td>
            <button class="btn btn-warning btn-sm" (click)="modalEditar(editar, c.id)">
               <i class="bi bi-pencil-fill"></i>
            </button>
            &nbsp;
            <button class="btn btn-danger btn-sm" (click)="modalRemover(remover, c.id)">
               <i class="bi bi-trash"></i>
            </button>
         </td>
      </tr>
   </tbody>
</table>

<ng-template #enderecoCliente>
   <div class="modal-header">
      <h1 class="modal-title h5">Informações de endereço</h1>
      <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
         (click)="modalRef?.hide()"></button>
   </div>
   <div class="modal-body">
      <table class="table table-striped table-bordered">
         <tbody>
            <tr>
               <th scope="row">CEP</th>
               <td>{{ endereco.cep }}</td>
            </tr>
            <tr>
               <th scope="row">Bairro</th>
               <td>{{ endereco.bairro }}</td>
            </tr>
            <tr>
               <th scope="row">Rua</th>
               <td>{{ endereco.logradouro }}</td>
            </tr>
            <tr>
               <th scope="row">Número</th>
               <td>{{ endereco.numero }}</td>
            </tr>
            <tr>
               <th scope="row">Complemento</th>
               <td>{{ endereco.complemento }}</td>
            </tr>
            <tr>
               <th scope="row">Ponto de Referência</th>
               <td>{{ endereco.pontoReferencia }}</td>
            </tr>
         </tbody>
      </table>
   </div>

   <div class="modal-footer">
      <button type="button" class="btn btn-primary" data-bs-dismiss="modal" (click)="modalRef?.hide()">Fechar</button>
   </div>
</ng-template>

<ng-template #editar>
   <form [formGroup]="form" (ngSubmit)="editarCliente()">
      <div class="modal-header">
         <h1 class="modal-title h5">Editar informações de {{ cliente.nome }}</h1>
         <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
            (click)="modalRef?.hide()"></button>
      </div>

      <div class="modal-body">
         <div class="row g-2">

            <!-- NOME -->
            <div class="col-12">
               <div class="mb-3">
                  <label for="nome" class="form-label h6">Nome<span class="text-danger">*</span></label>
                  <input type="text" class="form-control form-control-sm" id="nome" formControlName="nome">
               </div>
            </div>
         </div>

         <div class="row g-2">

            <!-- E-MAIL -->
            <div class="col-5">
               <div class="mb-3">
                  <label for="email" class="form-label h6">E-mail<span class="text-danger">*</span></label>
                  <input type="email" class="form-control form-control-sm" id="email" formControlName="email">
               </div>
            </div>

            <!-- TELEFONE -->
            <div class="col-4">
               <div class="mb-3">
                  <label for="telefone" class="form-label h6">Telefone<span class="text-danger">*</span></label>
                  <input type="text" class="form-control form-control-sm" id="telefone" formControlName="telefone">
               </div>
            </div>

            <!-- CPF -->
            <div class="col-3">
               <div class="mb-3">
                  <label for="cpf" class="form-label h6">CPF<span class="text-danger">*</span></label>
                  <input type="text" class="form-control form-control-sm" id="cpf" formControlName="cpf">
               </div>
            </div>
         </div>

         <div class="row g-2">

            <!-- CPF -->
            <div class="col-3">
               <div class="mb-3">
                  <label for="cep" class="form-label h6">CEP</label>
                  <input type="text" class="form-control form-control-sm" id="cep" formControlName="cep">
               </div>
            </div>
         </div>

         <div class="row g-2">

            <!-- BAIRRO -->
            <div class="col-5">
               <div class="mb-3">
                  <label for="bairro" class="form-label h6">Bairro<span class="text-danger">*</span></label>
                  <input type="text" list="bairros" class="form-control form-control-sm" id="bairro"
                     formControlName="bairro">
                  <datalist id="bairros">
                     <option value="Agroindustrial">
                     <option value="Arroio Grande">
                     <option value="Boi Morto">
                     <option value="Bonfim">
                     <option value="Camobi">
                     <option value="Campestre do Menino Deus">
                     <option value="Caramelo">
                     <option value="Carolina">
                     <option value="Caturrita">
                     <option value="Cauduro">
                     <option value="Centro">
                     <option value="Cerrito">
                     <option value="Chácara das Flores">
                     <option value="Cohab F Ferrari">
                     <option value="Cohab Passo Ferreira">
                     <option value="Cohab Santa Maria">
                     <option value="Cohab Tancredo Neves">
                     <option value="Diácono João Luiz Pozzobon">
                     <option value="Distrito Industrial">
                     <option value="Divina Providência">
                     <option value="Dom Antônio Reis">
                     <option value="Duque de Caxias">
                     <option value="Faixa Soo Pedro">
                     <option value="Formosa">
                     <option value="Industrial">
                     <option value="Itararé">
                     <option value="Itarajú">
                     <option value="Juscelino Kubitschek">
                     <option value="Km 3">
                     <option value="Lorenzi">
                     <option value="Maringá">
                     <option value="Medianeira">
                     <option value="Menino Jesus">
                     <option value="Noal">
                     <option value="Nonoai">
                     <option value="Nossa Senhora das Dores">
                     <option value="Nossa Senhora de Fátima">
                     <option value="Nossa Senhora de Lourdes">
                     <option value="Nossa Senhora do Perpétuo Socorro">
                     <option value="Nossa Senhora do Rosário">
                     <option value="Nossa Senhora Dores">
                     <option value="Nossa Senhora Medianeira">
                     <option value="Nova Santa Marta">
                     <option value="Padre de Platano">
                     <option value="Passo D'areia">
                     <option value="Passo Tropas">
                     <option value="Patronato">
                     <option value="Pinheiro Machado">
                     <option value="Presidente João Goulart">
                     <option value="Renascença">
                     <option value="Retiro Padres">
                     <option value="Ruralcel">
                     <option value="Salgado Filho">
                     <option value="São João">
                     <option value="São José">
                     <option value="Subúrbios">
                     <option value="Switch">
                     <option value="Tancredo Neves">
                     <option value="Tomazetti">
                     <option value="Uglione">
                     <option value="Urlandia">
                     <option value="Vila Arco-íris">
                     <option value="Vila Bilibio">
                     <option value="Vila Fighera">
                     <option value="Vila Formosa">
                     <option value="Zona Rural">
                  </datalist>
               </div>
            </div>

            <!-- LOGRADOURO -->
            <div class="col-4">
               <div class="mb-3">
                  <label for="logradouro" class="form-label h6">Logradouro<span class="text-danger">*</span></label>
                  <input type="text" class="form-control form-control-sm" id="logradouro" formControlName="logradouro">
               </div>
            </div>

            <!-- NÚMERO -->
            <div class="col-3">
               <div class="mb-3">
                  <label for="numero" class="form-label h6">Número<span class="text-danger">*</span></label>
                  <input type="text" class="form-control form-control-sm" id="numero" formControlName="numero">
               </div>
            </div>
         </div>

         <div class="row g-2">
            <!-- COMPLEMENTO -->
            <div class="col">
               <div class="mb-3">
                  <label for="complemento" class="form-label h6">Complemento</label>
                  <input type="text" class="form-control form-control-sm" id="complemento"
                     formControlName="complemento">
               </div>
            </div>

            <!-- PONTO DE REFERÊNCIA -->
            <div class="col">
               <div class="mb-3">
                  <label for="pontoReferencia" class="form-label h6">Ponto de Referência</label>
                  <input type="text" class="form-control form-control-sm" id="pontoReferencia"
                     formControlName="pontoReferencia">
               </div>
            </div>
         </div>
      </div>

      <div class="modal-footer">
         <div class="row g-2">
            <div class="col">
               <button type="submit" class="btn btn-warning">Editar</button>
               &nbsp;
               <button class="btn btn-secondary" (click)="modalRef?.hide()">Cancelar</button>
            </div>
         </div>
      </div>
   </form>
</ng-template>

<ng-template #remover>
   <div class="modal-header">
      <h1 class="modal-title h5">Remover cliente</h1>
   </div>

   <div class="modal-body">
      Tem certeza que deseja <strong class="text-danger">remover</strong>
      o cliente <strong>{{ cliente.nome }}</strong> do sistema?
      <br>Essa ação não poderá ser revertida!
   </div>

   <div class="modal-footer">
      <button class="btn btn-danger" (click)="removerCliente()">Sim</button>
      &nbsp;
      <button class="btn btn-secondary" (click)="modalRef?.hide()">Não</button>
   </div>
</ng-template>
